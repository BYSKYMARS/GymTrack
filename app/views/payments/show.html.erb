<% content_for :title, "Detalle del Pago" %>

<div class="container">
  <% if notice %>
    <div class="alert alert-success">
      <%= notice %>
    </div>
  <% end %>

  <h1 class="mb-4">Detalle del Pago</h1>

  <div class="card mb-4">
    <div class="card-body">
      <p><strong>Usuario:</strong> <%= @payment.user.name %> (<%= @payment.user.email %>)</p>
      <p><strong>Plan:</strong> <%= @payment.plan.name %></p>
      <p><strong>Monto pagado:</strong> $<%= number_with_precision(@payment.amount_paid, precision: 2) %></p>
      <p><strong>Fecha de pago:</strong> <%= l(@payment.paid_on, format: :long) %></p>
      <p><strong>Válido hasta:</strong> <%= l(@payment.expires_on, format: :long) %></p>
      <p><strong>Estado:</strong> <%= @payment.status.capitalize %></p>
    </div>
  </div>

  <div class="d-flex gap-2">
    <%= link_to "Editar", edit_payment_path(@payment), class: "btn btn-primary" %>
    <%= link_to "Volver a pagos", payments_path, class: "btn btn-secondary" %>
    <%= button_to "Eliminar", @payment, method: :delete, data: { confirm: "¿Estás seguro de eliminar este pago?" }, class: "btn btn-danger" %>
  </div>
</div>
